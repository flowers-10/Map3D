import{G as f,R as U,S as D,M as H,a as J,b as W,L as Y,c as $,E as j,d as K,e as Q,V as Z,f as e1,B as t1,F as o1,P as n1,g as r1}from"./three-003e6fb4.js";import{T as a1,C as _}from"./ThreeInstance-b1b8b65a.js";import{d as i1,b as k,z as s1,A as l1,o as c1,f as p1,g as X,m as u1,q as d1}from"./@vue-92cee4ac.js";import{m as m1,i as f1,c as g1}from"./d3-geo-fdc49cc9.js";import{_ as h1}from"./index-0dc0f7b7.js";import"./gsap-89c74157.js";import"./d3-array-39cd0da9.js";import"./vue-router-95ee3816.js";const v1=`#include <common> 
                            varying vec3 model_world;`,x1=`
#include <begin_vertex>
model_world = position;`,y1=`  #include <common>
varying vec3 model_world;
uniform float uTime;
uniform float depth;

float rand(float n) {
  return fract(sin(n) * 43758.5453123);
}

float noise(float p) {
  float fl = floor(p);
  float fc = fract(p);
  return mix(rand(fl), rand(fl + 1.), fc);
}`,S1=`
#include <opaque_fragment>
              float noiseOffset = clamp(noise(model_world.x * 100. + uTime * 8.), 0., 1.);
              float strength = smoothstep(1., 0., (model_world.z) / (depth + 0.2)) * noiseOffset * 3.;
              gl_FragColor = vec4(gl_FragColor.xyz, strength);
`,w1=`#include <common> 
varying vec2 vUv;`,b1=`
#include <begin_vertex>
vUv = uv;`,T1=`  
        #include <common>
        float random (vec2 st) {
            return fract(sin(dot(st.xy, vec2(565656.233,123123.2033))) * 323434.34344);
        }

        vec2 random2( vec2 p ) {
            return fract(sin(vec2(dot(p,vec2(234234.1,54544.7)), sin(dot(p,vec2(33332.5,18563.3))))) * 323434.34344);
        }
        uniform float iTime;
        varying vec2 vUv;
        uniform sampler2D iTexture; 
`,_1=`
        #include <opaque_fragment>
        vec2 uv = vUv;
        uv *= 10.0;
        vec2 ipos = floor(uv);  // get the integer coords
        vec2 fpos = fract(uv);  // get the fractional coords

        float brightness = 0.8; // 亮度
        float size = 0.2; // 大小
        float fliterSize = 0.1; // 过滤大小
        float quantities = 0.4; // 数量
        float speed = .2; // 移动速度

        vec3 color = texture2D(iTexture, vUv).rgb; // 初始化材质颜色

        // Assign a random value based on the integer coord
        vec2 targetPoint = random2(ipos + vec2(13.0, 17.0));
        targetPoint = 0.5 + quantities *sin(iTime*speed + 6.2831*targetPoint);

        float dist = length(fpos - targetPoint) * size; 

        float starSize = mix(fliterSize, 1.0, random(ipos)); // 通过随机函数再此随机控制星星大小

        color += (1. - step(0.013 * starSize, dist)) * brightness;
        // gl_FragColor = vec4(color, 1.);
        gl_FragColor = vec4(gl_FragColor.xyz+color,1.0);
`,z1="FeatureCollection",C1=[{type:"Feature",geometry:{type:"MultiPolygon",coordinates:[[[[113.702312,30.395304],[113.716994,30.408404],[113.723131,30.423557],[113.752806,30.425526],[113.774635,30.432716],[113.779995,30.44932],[113.790171,30.457108],[113.811767,30.486327],[113.820623,30.49424],[113.831421,30.495224],[113.838102,30.516307],[113.852784,30.530075],[113.863038,30.530246],[113.868087,30.517633],[113.882148,30.525928],[113.879584,30.537471],[113.881138,30.551707],[113.890538,30.568547],[113.921067,30.571154],[113.939711,30.586282],[113.940565,30.608584],[113.926583,30.619221],[113.940565,30.634597],[113.924485,30.642242],[113.92534,30.647836],[113.939944,30.659536],[113.95719,30.683017],[113.94445,30.687457],[113.937847,30.697615],[113.924407,30.693134],[113.917882,30.699408],[113.913143,30.713534],[113.896985,30.708242],[113.894422,30.725909],[113.902501,30.727658],[113.906463,30.721386],[113.915862,30.725397],[113.910347,30.732266],[113.917338,30.753511],[113.905919,30.755815],[113.905297,30.764047],[113.91594,30.769634],[113.924174,30.76153],[113.94041,30.776842],[113.949266,30.779699],[113.976533,30.77778],[113.994944,30.786266],[114.006208,30.785711],[114.021977,30.780083],[114.030289,30.785328],[114.087153,30.782087],[114.110303,30.775264],[114.113876,30.767757],[114.125606,30.77198],[114.149533,30.768781],[114.165458,30.755815],[114.178353,30.75799],[114.180917,30.767971],[114.173537,30.798503],[114.180218,30.818711],[114.170973,30.830177],[114.16639,30.875218],[114.157534,30.885698],[114.164603,30.89213],[114.159243,30.906015],[114.162661,30.91334],[114.161185,30.942591],[114.157845,30.953659],[114.163749,30.955192],[114.175401,30.967663],[114.173381,30.978516],[114.179441,30.986814],[114.166157,31.007279],[114.170663,31.012299],[114.159399,31.021148],[114.157923,31.029144],[114.167866,31.038459],[114.166002,31.046794],[114.186355,31.054023],[114.191482,31.073837],[114.182548,31.084465],[114.186432,31.094241],[114.181849,31.112644],[114.206086,31.126114],[114.222866,31.142939],[114.232654,31.16078],[114.243607,31.169699],[114.248346,31.179807],[114.243218,31.191867],[114.233197,31.203627],[114.212145,31.199297],[114.212301,31.206896],[114.20259,31.217849],[114.192103,31.223749],[114.184102,31.240557],[114.179985,31.256767],[114.183558,31.267502],[114.200726,31.268053],[114.196065,31.278574],[114.19723,31.288585],[114.203911,31.301649],[114.21937,31.302879],[114.229003,31.318315],[114.239179,31.323701],[114.240111,31.339176],[114.267456,31.350367],[114.282915,31.361261],[114.297286,31.349265],[114.301558,31.336759],[114.31189,31.335233],[114.31826,31.325693],[114.332942,31.316619],[114.347314,31.323192],[114.357568,31.32264],[114.366501,31.310555],[114.376523,31.31276],[114.397497,31.311234],[114.407363,31.314626],[114.431833,31.312124],[114.440067,31.307968],[114.411868,31.258719],[114.402236,31.249341],[114.405887,31.229564],[114.424453,31.211779],[114.434785,31.206047],[114.454982,31.204052],[114.45273,31.195943],[114.472306,31.190932],[114.472228,31.183884],[114.459177,31.183077],[114.461585,31.168553],[114.471218,31.170167],[114.486522,31.159761],[114.493591,31.149184],[114.518139,31.144978],[114.525674,31.135462],[114.527616,31.122375],[114.53453,31.117021],[114.528548,31.108224],[114.534064,31.094369],[114.515653,31.063675],[114.515575,31.050834],[114.504855,31.045008],[114.500427,31.03344],[114.512157,31.01349],[114.525286,31.01264],[114.540978,31.000132],[114.544007,30.990814],[114.551775,30.998004],[114.559932,30.984175],[114.576246,30.969876],[114.604367,30.960555],[114.608562,30.944166],[114.614233,30.940079],[114.615942,30.927264],[114.628604,30.927945],[114.642975,30.933395],[114.650744,30.941868],[114.655405,30.932246],[114.682594,30.948679],[114.693625,30.947615],[114.708617,30.939909],[114.70116,30.953106],[114.704112,30.957831],[114.702481,30.973792],[114.713589,30.980558],[114.730524,30.980048],[114.750566,30.994005],[114.757869,30.995069],[114.760743,30.987154],[114.77022,30.985622],[114.764472,30.979196],[114.762996,30.966386],[114.767967,30.96047],[114.777988,30.978516],[114.778765,30.986643],[114.798497,31.000855],[114.795312,30.988899],[114.80712,30.993622],[114.808829,30.974175],[114.818151,30.956256],[114.825453,30.956426],[114.825608,30.948807],[114.8413,30.949573],[114.843009,30.944805],[114.862352,30.945699],[114.876257,30.968897],[114.870509,30.980175],[114.855516,30.984175],[114.855205,30.991367],[114.863906,30.991026],[114.883482,31.006471],[114.905699,31.005748],[114.921469,31.014341],[114.931878,30.994856],[114.93786,31.001834],[114.942754,30.993622],[114.957359,31.000004],[114.954484,30.990558],[114.964661,30.985878],[114.969089,30.99392],[114.977867,31.006131],[114.971575,31.021148],[114.980663,31.025231],[114.98548,31.017659],[114.982916,31.002387],[114.988976,30.99643],[114.991228,30.981963],[114.983848,30.979665],[114.983072,30.971749],[114.994103,30.965067],[114.9868,30.957022],[114.990529,30.945146],[115.009562,30.926114],[115.035896,30.926923],[115.028283,30.916576],[115.036828,30.909549],[115.05454,30.908783],[115.059822,30.903246],[115.057026,30.896219],[115.079399,30.89098],[115.081651,30.87803],[115.062153,30.869083],[115.051899,30.860136],[115.056327,30.855832],[115.03442,30.846841],[115.029914,30.857579],[115.011271,30.858644],[115.010571,30.85221],[114.999385,30.857537],[114.992704,30.843602],[115.000861,30.834524],[114.993248,30.82438],[114.989752,30.808778],[114.983848,30.815769],[114.972196,30.805666],[114.970099,30.810867],[114.946949,30.801147],[114.958135,30.788654],[114.952231,30.774368],[114.933898,30.792918],[114.924887,30.791297],[114.917662,30.783451],[114.900728,30.788568],[114.900106,30.793984],[114.883404,30.797309],[114.875947,30.793387],[114.877966,30.776458],[114.875558,30.764516],[114.848214,30.741695],[114.829415,30.735295],[114.811004,30.72625],[114.79873,30.73201],[114.791428,30.718783],[114.795467,30.708285],[114.81279,30.685578],[114.805954,30.671576],[114.815587,30.659707],[114.830813,30.668374],[114.840213,30.658383],[114.848136,30.641046],[114.855283,30.642669],[114.859556,30.636349],[114.85101,30.628191],[114.803235,30.621485],[114.791738,30.616829],[114.808673,30.615291],[114.828793,30.596494],[114.836018,30.580513],[114.839591,30.561495],[114.840135,30.527253],[114.835474,30.493384],[114.835707,30.474349],[114.839203,30.45929],[114.846116,30.44641],[114.86375,30.427537],[114.892493,30.413712],[114.917429,30.407933],[114.979187,30.400998],[115.018417,30.404679],[115.03776,30.401126],[115.056016,30.388667],[115.071009,30.366742],[115.082739,30.329819],[115.088643,30.296096],[115.086545,30.281094],[115.079787,30.259231],[115.061764,30.261418],[115.056171,30.254858],[115.024632,30.248341],[115.018806,30.237835],[115.005833,30.230973],[115.01096,30.222868],[114.996511,30.212659],[114.988665,30.218578],[114.97406,30.215619],[114.961786,30.203651],[114.954407,30.203994],[114.93584,30.217635],[114.875403,30.236034],[114.867091,30.242638],[114.861731,30.261632],[114.87183,30.271707],[114.861187,30.28178],[114.848835,30.281309],[114.836173,30.291767],[114.837804,30.30411],[114.830036,30.311909],[114.807663,30.311952],[114.787854,30.308995],[114.784125,30.303767],[114.786301,30.29211],[114.774337,30.290867],[114.737438,30.301067],[114.727417,30.315508],[114.726407,30.325277],[114.716619,30.324677],[114.698441,30.309209],[114.688964,30.289881],[114.695955,30.281009],[114.692692,30.275822],[114.674437,30.267162],[114.671718,30.257087],[114.660687,30.249584],[114.665193,30.234404],[114.665892,30.218064],[114.676612,30.211758],[114.680574,30.203308],[114.704889,30.185289],[114.723688,30.178939],[114.712113,30.167353],[114.71592,30.162074],[114.702636,30.15671],[114.699917,30.145636],[114.715531,30.136407],[114.717706,30.126533],[114.729126,30.119836],[114.731379,30.104421],[114.742099,30.090636],[114.728893,30.088489],[114.719415,30.079985],[114.724853,30.063747],[114.731767,30.059151],[114.72866,30.052449],[114.715997,30.041965],[114.703024,30.040203],[114.697509,30.050215],[114.68508,30.042309],[114.691372,30.037109],[114.687488,30.022413],[114.674825,30.0231],[114.665736,30.016567],[114.658512,30.019834],[114.645228,30.015493],[114.639402,30.026237],[114.641111,30.037066],[114.624098,30.053351],[114.599162,30.04682],[114.593414,30.04884],[114.583082,30.036465],[114.573993,30.034617],[114.567079,30.040719],[114.573371,30.045789],[114.559311,30.057647],[114.54626,30.062802],[114.545017,30.05421],[114.553718,30.037711],[114.565137,30.030277],[114.562185,30.026882],[114.549989,30.031566],[114.548901,30.021295],[114.537948,30.027183],[114.534297,30.022026],[114.543929,30.007885],[114.534374,29.99284],[114.533831,29.984156],[114.5409,29.975084],[114.532277,29.969322],[114.524353,29.976073],[114.514099,29.975428],[114.497242,29.983898],[114.497475,29.991894],[114.487765,29.994087],[114.481239,29.988154],[114.461119,29.995591],[114.451021,30.004833],[114.43999,30.004876],[114.423132,30.011023],[114.406508,30.020951],[114.372483,30.028042],[114.361996,30.033027],[114.347158,30.02628],[114.334496,30.027441],[114.324941,30.017513],[114.305986,30.011754],[114.297907,30.006424],[114.265436,29.99946],[114.237548,29.995892],[114.212145,30.003243],[114.214087,30.020736],[114.208805,30.031781],[114.198939,30.040633],[114.195676,30.053995],[114.197386,30.071093],[114.192725,30.086685],[114.167788,30.090679],[114.162195,30.110046],[114.150465,30.117174],[114.154893,30.127778],[114.151397,30.143876],[114.129413,30.168726],[114.115275,30.194428],[114.10603,30.202364],[114.075345,30.208413],[114.056002,30.205367],[114.0487,30.198203],[114.038524,30.197431],[114.036737,30.208241],[114.044738,30.210171],[114.048467,30.219651],[114.035572,30.225355],[114.02757,30.244138],[114.01452,30.267248],[114.000071,30.278994],[113.975678,30.295196],[113.953616,30.296481],[113.929457,30.289195],[113.911978,30.274793],[113.888518,30.238307],[113.867233,30.209528],[113.863504,30.200005],[113.866223,30.189665],[113.851385,30.183444],[113.84284,30.186748],[113.820157,30.178982],[113.817282,30.198246],[113.811223,30.204166],[113.800891,30.203308],[113.769585,30.215447],[113.755913,30.232045],[113.764924,30.245682],[113.779373,30.249627],[113.78318,30.263776],[113.792735,30.28388],[113.789627,30.287824],[113.776421,30.283709],[113.76438,30.288981],[113.762128,30.296353],[113.761817,30.298196],[113.76407,30.304495],[113.759564,30.31945],[113.763293,30.324378],[113.746047,30.337016],[113.741153,30.34901],[113.751718,30.375393],[113.73657,30.372824],[113.709614,30.377791],[113.710002,30.388924],[113.702312,30.395304]]],[[[114.929004,31.025188],[114.93351,31.03714],[114.946328,31.034035],[114.947726,31.023317],[114.939258,31.019914],[114.929004,31.025188]]]]},properties:{level:"special",childrenNum:0,name:"武汉+十堰",adcode:-100001,parent:{adcode:42e4},subFeatureIndex:2,acroutes:[1e5,42e4]},id:4936,geomPtr:5413064,bbox:[113.702312,29.969322,115.088643,31.361261]}],G={type:z1,features:C1},F1="FeatureCollection",E1=[{type:"Feature",id:65825223,bbox:[113.702312,29.969322,115.081651,31.361261],properties:{adcode:420100,name:"武汉市",center:[114.298572,30.584355],centroid:[114.348204,30.623025],childrenNum:13,level:"city",parent:{adcode:42e4},subFeatureIndex:0,acroutes:[1e5,42e4]},geometry:{type:"MultiPolygon",coordinates:[[[[113.710002,30.388924],[113.709614,30.377791],[113.73657,30.372824],[113.751718,30.375393],[113.741153,30.34901],[113.746047,30.337016],[113.763293,30.324378],[113.759564,30.31945],[113.76407,30.304495],[113.761817,30.298196],[113.762128,30.296353],[113.76438,30.288981],[113.776421,30.283709],[113.789627,30.287824],[113.792735,30.28388],[113.78318,30.263776],[113.779373,30.249627],[113.764924,30.245682],[113.755913,30.232045],[113.769585,30.215447],[113.800891,30.203308],[113.811223,30.204166],[113.817282,30.198246],[113.820157,30.178982],[113.84284,30.186748],[113.851385,30.183444],[113.866223,30.189665],[113.863504,30.200005],[113.867233,30.209528],[113.888518,30.238307],[113.911978,30.274793],[113.929457,30.289195],[113.953616,30.296481],[113.975678,30.295196],[114.000071,30.278994],[114.01452,30.267248],[114.02757,30.244138],[114.035572,30.225355],[114.048467,30.219651],[114.044738,30.210171],[114.036737,30.208241],[114.038524,30.197431],[114.0487,30.198203],[114.056002,30.205367],[114.075345,30.208413],[114.10603,30.202364],[114.115275,30.194428],[114.129413,30.168726],[114.151397,30.143876],[114.154893,30.127778],[114.150465,30.117174],[114.162195,30.110046],[114.167788,30.090679],[114.192725,30.086685],[114.197386,30.071093],[114.195676,30.053995],[114.198939,30.040633],[114.208805,30.031781],[114.214087,30.020736],[114.212145,30.003243],[114.237548,29.995892],[114.265436,29.99946],[114.297907,30.006424],[114.305986,30.011754],[114.324941,30.017513],[114.334496,30.027441],[114.347158,30.02628],[114.361996,30.033027],[114.372483,30.028042],[114.406508,30.020951],[114.423132,30.011023],[114.43999,30.004876],[114.451021,30.004833],[114.461119,29.995591],[114.481239,29.988154],[114.487765,29.994087],[114.497475,29.991894],[114.497242,29.983898],[114.514099,29.975428],[114.524353,29.976073],[114.532277,29.969322],[114.5409,29.975084],[114.533831,29.984156],[114.534374,29.99284],[114.543929,30.007885],[114.534297,30.022026],[114.537948,30.027183],[114.548901,30.021295],[114.549989,30.031566],[114.562185,30.026882],[114.565137,30.030277],[114.553718,30.037711],[114.545017,30.05421],[114.54626,30.062802],[114.54292,30.077794],[114.536394,30.082003],[114.533908,30.094673],[114.518682,30.101973],[114.519925,30.107384],[114.505476,30.123829],[114.508118,30.138382],[114.506486,30.149842],[114.515964,30.162933],[114.513089,30.172588],[114.519848,30.176364],[114.521479,30.192797],[114.534841,30.194599],[114.540589,30.202579],[114.544396,30.218621],[114.544473,30.234619],[114.567778,30.254086],[114.570264,30.273336],[114.590772,30.284481],[114.595045,30.296396],[114.592947,30.313923],[114.598696,30.339244],[114.59722,30.347126],[114.586577,30.363059],[114.593025,30.410287],[114.591161,30.421417],[114.583237,30.437466],[114.591083,30.445298],[114.590539,30.457407],[114.608173,30.456851],[114.619981,30.451331],[114.626662,30.469772],[114.635052,30.470157],[114.640956,30.4779],[114.633265,30.499971],[114.637304,30.50737],[114.633343,30.526697],[114.624021,30.530716],[114.630857,30.538668],[114.625963,30.54149],[114.621146,30.556879],[114.630235,30.556494],[114.66628,30.571923],[114.692848,30.577009],[114.71926,30.584102],[114.739225,30.592862],[114.760044,30.60914],[114.784902,30.616829],[114.791738,30.616829],[114.803235,30.621485],[114.85101,30.628191],[114.859556,30.636349],[114.855283,30.642669],[114.848136,30.641046],[114.840213,30.658383],[114.830813,30.668374],[114.815587,30.659707],[114.805954,30.671576],[114.81279,30.685578],[114.795467,30.708285],[114.791428,30.718783],[114.79873,30.73201],[114.811004,30.72625],[114.829415,30.735295],[114.848214,30.741695],[114.875558,30.764516],[114.877966,30.776458],[114.875947,30.793387],[114.883404,30.797309],[114.900106,30.793984],[114.900728,30.788568],[114.917662,30.783451],[114.924887,30.791297],[114.933898,30.792918],[114.952231,30.774368],[114.958135,30.788654],[114.946949,30.801147],[114.970099,30.810867],[114.972196,30.805666],[114.983848,30.815769],[114.989752,30.808778],[114.993248,30.82438],[115.000861,30.834524],[114.992704,30.843602],[114.999385,30.857537],[115.010571,30.85221],[115.011271,30.858644],[115.029914,30.857579],[115.03442,30.846841],[115.056327,30.855832],[115.051899,30.860136],[115.062153,30.869083],[115.081651,30.87803],[115.079399,30.89098],[115.057026,30.896219],[115.059822,30.903246],[115.05454,30.908783],[115.036828,30.909549],[115.028283,30.916576],[115.035896,30.926923],[115.009562,30.926114],[114.990529,30.945146],[114.9868,30.957022],[114.994103,30.965067],[114.983072,30.971749],[114.983848,30.979665],[114.991228,30.981963],[114.988976,30.99643],[114.985713,30.99443],[114.977634,30.995111],[114.969089,30.99392],[114.964661,30.985878],[114.954484,30.990558],[114.957359,31.000004],[114.942754,30.993622],[114.93786,31.001834],[114.931878,30.994856],[114.921469,31.014341],[114.905699,31.005748],[114.883482,31.006471],[114.863906,30.991026],[114.855205,30.991367],[114.855516,30.984175],[114.870509,30.980175],[114.876257,30.968897],[114.862352,30.945699],[114.843009,30.944805],[114.8413,30.949573],[114.825608,30.948807],[114.825453,30.956426],[114.818151,30.956256],[114.808829,30.974175],[114.80712,30.993622],[114.795312,30.988899],[114.798497,31.000855],[114.778765,30.986643],[114.777988,30.978516],[114.767967,30.96047],[114.762996,30.966386],[114.764472,30.979196],[114.77022,30.985622],[114.760743,30.987154],[114.757869,30.995069],[114.750566,30.994005],[114.730524,30.980048],[114.713589,30.980558],[114.702481,30.973792],[114.704112,30.957831],[114.70116,30.953106],[114.708617,30.939909],[114.693625,30.947615],[114.682594,30.948679],[114.655405,30.932246],[114.650744,30.941868],[114.642975,30.933395],[114.628604,30.927945],[114.615942,30.927264],[114.614233,30.940079],[114.608562,30.944166],[114.604367,30.960555],[114.576246,30.969876],[114.559932,30.984175],[114.551775,30.998004],[114.544007,30.990814],[114.540978,31.000132],[114.525286,31.01264],[114.512157,31.01349],[114.500427,31.03344],[114.504855,31.045008],[114.515575,31.050834],[114.515653,31.063675],[114.534064,31.094369],[114.528548,31.108224],[114.53453,31.117021],[114.527616,31.122375],[114.525674,31.135462],[114.518139,31.144978],[114.493591,31.149184],[114.486522,31.159761],[114.471218,31.170167],[114.461585,31.168553],[114.459177,31.183077],[114.472228,31.183884],[114.472306,31.190932],[114.45273,31.195943],[114.454982,31.204052],[114.434785,31.206047],[114.424453,31.211779],[114.405887,31.229564],[114.402236,31.249341],[114.411868,31.258719],[114.440067,31.307968],[114.431833,31.312124],[114.407363,31.314626],[114.397497,31.311234],[114.376523,31.31276],[114.366501,31.310555],[114.357568,31.32264],[114.347314,31.323192],[114.332942,31.316619],[114.31826,31.325693],[114.31189,31.335233],[114.301558,31.336759],[114.297286,31.349265],[114.282915,31.361261],[114.267456,31.350367],[114.240111,31.339176],[114.239179,31.323701],[114.229003,31.318315],[114.21937,31.302879],[114.203911,31.301649],[114.19723,31.288585],[114.196065,31.278574],[114.200726,31.268053],[114.183558,31.267502],[114.179985,31.256767],[114.184102,31.240557],[114.192103,31.223749],[114.20259,31.217849],[114.212301,31.206896],[114.212145,31.199297],[114.233197,31.203627],[114.243218,31.191867],[114.248346,31.179807],[114.243607,31.169699],[114.232654,31.16078],[114.222866,31.142939],[114.206086,31.126114],[114.181849,31.112644],[114.186432,31.094241],[114.182548,31.084465],[114.191482,31.073837],[114.186355,31.054023],[114.166002,31.046794],[114.167866,31.038459],[114.157923,31.029144],[114.159399,31.021148],[114.170663,31.012299],[114.166157,31.007279],[114.179441,30.986814],[114.173381,30.978516],[114.175401,30.967663],[114.163749,30.955192],[114.157845,30.953659],[114.161185,30.942591],[114.162661,30.91334],[114.159243,30.906015],[114.164603,30.89213],[114.157534,30.885698],[114.16639,30.875218],[114.170973,30.830177],[114.180218,30.818711],[114.173537,30.798503],[114.180917,30.767971],[114.178353,30.75799],[114.165458,30.755815],[114.149533,30.768781],[114.125606,30.77198],[114.113876,30.767757],[114.110303,30.775264],[114.087153,30.782087],[114.030289,30.785328],[114.021977,30.780083],[114.006208,30.785711],[113.994944,30.786266],[113.976533,30.77778],[113.949266,30.779699],[113.94041,30.776842],[113.924174,30.76153],[113.91594,30.769634],[113.905297,30.764047],[113.905919,30.755815],[113.917338,30.753511],[113.910347,30.732266],[113.915862,30.725397],[113.906463,30.721386],[113.902501,30.727658],[113.894422,30.725909],[113.896985,30.708242],[113.913143,30.713534],[113.917882,30.699408],[113.924407,30.693134],[113.937847,30.697615],[113.94445,30.687457],[113.95719,30.683017],[113.939944,30.659536],[113.92534,30.647836],[113.924485,30.642242],[113.940565,30.634597],[113.926583,30.619221],[113.940565,30.608584],[113.939711,30.586282],[113.921067,30.571154],[113.890538,30.568547],[113.881138,30.551707],[113.879584,30.537471],[113.882148,30.525928],[113.868087,30.517633],[113.863038,30.530246],[113.852784,30.530075],[113.838102,30.516307],[113.831421,30.495224],[113.820623,30.49424],[113.811767,30.486327],[113.790171,30.457108],[113.779995,30.44932],[113.774635,30.432716],[113.752806,30.425526],[113.723131,30.423557],[113.716994,30.408404],[113.702312,30.395304],[113.710002,30.388924]]],[[[114.939258,31.019914],[114.947726,31.023317],[114.946328,31.034035],[114.93351,31.03714],[114.929004,31.025188],[114.939258,31.019914]]],[[[114.969089,30.99392],[114.977634,30.995111],[114.985713,30.99443],[114.988976,30.99643],[114.982916,31.002387],[114.98548,31.017659],[114.980663,31.025231],[114.971575,31.021148],[114.977867,31.006131],[114.969089,30.99392]]]],modify_uid:"45"}},{type:"Feature",id:65825228,bbox:[114.505476,30.015493,115.088643,30.616829],properties:{adcode:420700,name:"鄂州市",center:[114.890593,30.396536],centroid:[114.759738,30.326618],childrenNum:3,level:"city",parent:{adcode:42e4},subFeatureIndex:5,acroutes:[1e5,42e4]},geometry:{type:"MultiPolygon",coordinates:[[[[115.079787,30.259231],[115.086545,30.281094],[115.088643,30.296096],[115.082739,30.329819],[115.071009,30.366742],[115.056016,30.388667],[115.03776,30.401126],[115.018417,30.404679],[114.979187,30.400998],[114.917429,30.407933],[114.892493,30.413712],[114.86375,30.427537],[114.846116,30.44641],[114.839203,30.45929],[114.835707,30.474349],[114.835474,30.493384],[114.840135,30.527253],[114.839591,30.561495],[114.836018,30.580513],[114.828793,30.596494],[114.808673,30.615291],[114.791738,30.616829],[114.784902,30.616829],[114.760044,30.60914],[114.739225,30.592862],[114.71926,30.584102],[114.692848,30.577009],[114.66628,30.571923],[114.630235,30.556494],[114.621146,30.556879],[114.625963,30.54149],[114.630857,30.538668],[114.624021,30.530716],[114.633343,30.526697],[114.637304,30.50737],[114.633265,30.499971],[114.640956,30.4779],[114.635052,30.470157],[114.626662,30.469772],[114.619981,30.451331],[114.608173,30.456851],[114.590539,30.457407],[114.591083,30.445298],[114.583237,30.437466],[114.591161,30.421417],[114.593025,30.410287],[114.586577,30.363059],[114.59722,30.347126],[114.598696,30.339244],[114.592947,30.313923],[114.595045,30.296396],[114.590772,30.284481],[114.570264,30.273336],[114.567778,30.254086],[114.544473,30.234619],[114.544396,30.218621],[114.540589,30.202579],[114.534841,30.194599],[114.521479,30.192797],[114.519848,30.176364],[114.513089,30.172588],[114.515964,30.162933],[114.506486,30.149842],[114.508118,30.138382],[114.505476,30.123829],[114.519925,30.107384],[114.518682,30.101973],[114.533908,30.094673],[114.536394,30.082003],[114.54292,30.077794],[114.54626,30.062802],[114.559311,30.057647],[114.573371,30.045789],[114.567079,30.040719],[114.573993,30.034617],[114.583082,30.036465],[114.593414,30.04884],[114.599162,30.04682],[114.624098,30.053351],[114.641111,30.037066],[114.639402,30.026237],[114.645228,30.015493],[114.658512,30.019834],[114.665736,30.016567],[114.674825,30.0231],[114.687488,30.022413],[114.691372,30.037109],[114.68508,30.042309],[114.697509,30.050215],[114.703024,30.040203],[114.715997,30.041965],[114.72866,30.052449],[114.731767,30.059151],[114.724853,30.063747],[114.719415,30.079985],[114.728893,30.088489],[114.742099,30.090636],[114.731379,30.104421],[114.729126,30.119836],[114.717706,30.126533],[114.715531,30.136407],[114.699917,30.145636],[114.702636,30.15671],[114.71592,30.162074],[114.712113,30.167353],[114.723688,30.178939],[114.704889,30.185289],[114.680574,30.203308],[114.676612,30.211758],[114.665892,30.218064],[114.665193,30.234404],[114.660687,30.249584],[114.671718,30.257087],[114.674437,30.267162],[114.692692,30.275822],[114.695955,30.281009],[114.688964,30.289881],[114.698441,30.309209],[114.716619,30.324677],[114.726407,30.325277],[114.727417,30.315508],[114.737438,30.301067],[114.774337,30.290867],[114.786301,30.29211],[114.784125,30.303767],[114.787854,30.308995],[114.807663,30.311952],[114.830036,30.311909],[114.837804,30.30411],[114.836173,30.291767],[114.848835,30.281309],[114.861187,30.28178],[114.87183,30.271707],[114.861731,30.261632],[114.867091,30.242638],[114.875403,30.236034],[114.93584,30.217635],[114.954407,30.203994],[114.961786,30.203651],[114.97406,30.215619],[114.988665,30.218578],[114.996511,30.212659],[115.01096,30.222868],[115.005833,30.230973],[115.018806,30.237835],[115.024632,30.248341],[115.056171,30.254858],[115.061764,30.261418],[115.079787,30.259231]]]]}}],M1={type:F1,features:E1},P1=y=>(u1("data-v-243121dd"),y=y(),d1(),y),A1={style:{"box-sizing":"border-box"}},B1=P1(()=>X("div",{style:{position:"absolute",top:"20px",left:"20px",color:"aliceblue","font-size":"20px"}}," threejs路由切换时上一个场景会占用内存,重新刷新即可解决，此问题等待后续版本优化！ todo: 地图动画待添加！ ",-1)),I1=i1({__name:"Map",setup(y){const M=k(),r=k();_.camera={fov:75,near:.1,far:1e3,position:{x:0,y:0,z:1.6},lookAt:!0,controls:{show:!0,enableDamping:!0,minPolarAngle:Math.PI*.25,maxPolarAngle:Math.PI*.75,minAzimuthAngle:-Math.PI*.45,maxAzimuthAngle:Math.PI*.25,enablePan:!1}},_.light=[{type:"point",color:"#3e99e5",intensity:3,distance:500,helper:!1,lightId:0,lightName:"光源1",position:{x:-10,y:48,z:50}},{type:"point",color:"#3e99e5",intensity:3,distance:285,helper:!1,lightId:1,lightName:"光源2",position:{x:1,y:-5,z:50}},{type:"point",color:"#3e99e5",intensity:10,distance:285,helper:!1,lightId:2,lightName:"光源3",position:{x:1,y:-28,z:3}}],_.sources=[{name:"locationTexture",type:"TEXTURE",show:!0,path:"/texture/blue-location.png"},{name:"locationTextureGreen",type:"TEXTURE",show:!0,path:"/texture/green-location.png"},{name:"locationTextureRed",type:"TEXTURE",show:!0,path:"/texture/red-location.png"},{name:"locationTextureYellow",type:"TEXTURE",show:!0,path:"/texture/yellow-location.png"},{name:"border1Texture",type:"TEXTURE",show:!0,path:"/texture/rotationBorder1.png"},{name:"border2Texture",type:"TEXTURE",show:!0,path:"/texture/rotationBorder2.png"},{name:"focusMoveBgTexture",type:"TEXTURE",show:!0,path:"/texture/focus_move_bg.png"},{name:"bgTexture",type:"TEXTURE",show:!0,path:"/texture/bg.png"}];const N=[{show:!0,mapShow:!1,lineShow:!0,textShow:!1,name:"轮廓地图",mapId:0,mapType:"parentJson",shader:!1,castShadow:!1,receiveShadow:!1,lineConfig:{depth:.111,color:"#A0E5FF",linewidth:.002},textConfig:{textType:"dom",rotation:{x:0,y:0,z:0},textStyle:{arrangement:"horizontal",fontSize:20,color:"#ffffff",bold:!0,lineHeight:20,fontFamily:"Arial"},filterList:["长宁区","静安区","普陀区","徐汇区","黄浦区","虹口区","杨浦区"],filterStyle:{arrangement:"vertical",fontSize:28,color:"#ffffff",bold:!0,lineHeight:20,fontFamily:"Arial"}},extrudeFacesConfig:{color:"#3EB8F3",transparent:!0,metalness:1,roughness:1,extrudeSettings:{depth:.11,bevelEnabled:!1,bevelSegments:1,bevelSize:0,bevelThickness:0}},crossSectionConfig:{transparent:!0,color:"#2B61A6"}},{show:!0,mapShow:!0,lineShow:!0,textShow:!0,name:"区域地图",mapId:1,mapType:"subJson",shader:!0,castShadow:!0,receiveShadow:!0,lineConfig:{depth:.11,color:"#ffffff",linewidth:.001},textConfig:{textType:"dom",rotation:{x:0,y:0,z:0},textStyle:{arrangement:"horizontal",fontSize:18,color:"#ffffff",bold:!0,lineHeight:20,fontFamily:"Arial"},filterList:["长宁区","静安区","普陀区","徐汇区","黄浦区","虹口区","杨浦区"],filterStyle:{arrangement:"vertical",fontSize:28,color:"#ffffff",bold:!0,lineHeight:20,fontFamily:"Arial"}},extrudeFacesConfig:{color:"#3a7abd",transparent:!0,metalness:1,roughness:1,extrudeSettings:{depth:.1,bevelEnabled:!1,bevelSegments:1,bevelSize:0,bevelThickness:0}},crossSectionConfig:{transparent:!0,color:"#2B61A6"}}],P=new f,q={parentJson:G,subJson:M1},A=(c,t)=>{const o=f1().bounds(c),a=o[1][0]-o[0][0],S=o[1][1]-o[0][1],g=t.sizes.width/a,h=t.sizes.height/S;let i=Math.min(g,h);return{center:g1(c),scale:i}};let B=null,z=null;const L=(c,t,u)=>{const{lineConfig:o,extrudeFacesConfig:a,crossSectionConfig:S,textConfig:g}=t,h=new f;h.name=t.name;const i=r.value.resources.items.bgTexture;i.repeat.set(2,2),i.wrapS=U,i.wrapT=U,i.colorSpace=D;const w=new H({shininess:200,color:S.color,transparent:S.transparent,map:i});w.color.convertSRGBToLinear();const I=new J({metalness:a.metalness,roughness:a.roughness,color:a.color,transparent:a.transparent});new W({wireframe:!1,color:g.textStyle.color});const V=new Y({color:o.color,linewidth:o.linewidth});c.features.forEach(d=>{const b=new f,T=new f,C=new f,v=new f;v.name=d.properties.name,b.name="region",T.name="lineRegion",C.name="textRegion";const{coordinates:O}=d.geometry;if(O.forEach(R=>{R.forEach(x=>{if(t.mapShow){const s=new $;for(let e=0;e<x.length;e++){let[n,l]=u(x[e]);e===0&&s.moveTo(n,-l),s.lineTo(n,-l)}const m=new j(s,a.extrudeSettings);t.shader&&(B={iTime:{value:0},iTexture:{value:i}},w.onBeforeCompile=e=>{e.uniforms.iTime=B.iTime,e.vertexShader=e.vertexShader.replace("#include <common>",w1),e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",b1),e.fragmentShader=e.fragmentShader.replace("#include <common>",T1),e.fragmentShader=e.fragmentShader.replace("#include <opaque_fragment>",_1)},z={uTime:{value:0},depth:{value:a.extrudeSettings.depth}},I.onBeforeCompile=e=>{e.uniforms.uTime=z.uTime,e.uniforms.depth=z.depth,e.vertexShader=e.vertexShader.replace("#include <common>",v1),e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",x1),e.fragmentShader=e.fragmentShader.replace("#include <common>",y1),e.fragmentShader=e.fragmentShader.replace("#include <opaque_fragment>",S1)});const p=new K(m,[w,I]);p.name=d.properties.name,b.add(p)}if(t.lineShow){const s=new Q,m=[];for(let e=0;e<x.length;e++){let[n,l]=u(x[e]);m.push(new Z(n,-l,t.depth))}s.setPositions(m.map(({x:e,y:n,z:l})=>[e,n,l]).flat());const p=new e1(s,V);T.add(p)}})}),b.properties=d.properties,T.properties=d.properties,t.textShow){let{x:R=0,y:x=0,z:s=0}=g.rotation||{};if(g.textType==="dom"){const{center:m}=A(d,r.value);let[p,e]=u(m);const n=new t1,l=[p,-e,o.depth+.1];n.setAttribute("position",new o1([0,0,0],3));const F=new n1({color:"#000",size:.02});F.transparent=!0,F.depthWrite=!1;const E=new r1(n,F);E.position.fromArray(l),E.rotation.set(p,e,s),C.add(E)}}v.add(b),v.add(T),v.add(C),h.add(v)}),P.add(h),r.value.scene.add(P)};return s1(()=>{r.value=new a1(M.value,_);let{center:c,scale:t}=A(G,r.value);const u=m1().center(c).scale(t*.1).translate([0,0]);r.value.resources.on("ready",()=>{N.forEach(o=>{o.show&&L(q[o.mapType],o,u)})}),r.value.time.on("tick",()=>{})}),l1(()=>{console.log("我被卸载"),r.value.dispose()}),(c,t)=>(c1(),p1("div",A1,[B1,X("canvas",{class:"webgl",ref_key:"canvasDom",ref:M},null,512)]))}});const V1=h1(I1,[["__scopeId","data-v-243121dd"]]);export{V1 as default};
