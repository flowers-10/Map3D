import{i as p,r as d}from"./linesGL-e2e29637.js";import{a as h}from"./axios-82afda87.js";import{_ as m,o as r,c,p as F,a as E,b as u}from"./index-33c032eb.js";const _={data(){return{historyMapData:[{name:"map",adcode:"100000"}]}},methods:{chartMap(){const t=p(document.getElementById("mapEchart"));this.initMap(t,"map","100000"),t.on("click",e=>{const a=e.name;if(e.value.level==="district")return alert("该地区已经无法下钻");this.historyMapData.push(e.value),this.initMap(t,a,e.value.adcode)}),window.addEventListener("resize",()=>{t.resize()})},async initMap(t,e,a){t.clear();const s=await this.getMapJSON(a,e),o=this.getOption(e,s);t.setOption(o)},async getMapJSON(t="100000",e){const a=await h.get(`https://geo.datav.aliyun.com/areas_v2/bound/${t}_full.json`);return d(e,a.data),a.data.features.map(o=>({value:o.properties,name:o.properties.name}))},getOption(t,e){return{geo3D:{zlevel:-100,show:!1,map:t},series:[{zlevel:-10,regionHeight:2,type:"map3D",map:t,data:e,label:{show:!0,textStyle:{color:"#fff",fontSize:12},formatter:s=>` ${s.name} `},itemStyle:{color:"#18B6FE"},shading:"realistic",realisticMaterial:{detailTexture:"./1.jpeg",roughness:.2,metalness:0},emphasis:{label:{show:!0,textStyle:{color:"#f8fbfb",fontSize:18,padding:[20,20],backgroundColor:{image:"./2.png"}}}}}]}},backMap(){const t=p(document.getElementById("mapEchart"));this.historyMapData.pop();const e=this.historyMapData.length,a=this.historyMapData[e-1];this.initMap(t,(a==null?void 0:a.name)||"map",(a==null?void 0:a.adcode)||"100000")}},mounted(){this.chartMap(),console.log(1)}};const i=t=>(F("data-v-e4d03c6d"),t=t(),E(),t),f={class:"investment-screen"},g=i(()=>u("div",{style:{position:"absolute",top:"20px",left:"20px",color:"aliceblue"}},"Vercel版本由于阿里巴巴地图json接口跨域所以无法访问！请使用dev开发模式测试该功能(如果想要上线使用，可以使用高德、百度、腾讯地图等收费接口返回json文件！)",-1)),v=i(()=>u("path",{d:"M426.666667 384V213.333333l-298.666667 298.666667 298.666667 298.666667v-174.933334c213.333333 0 362.666667 68.266667 469.333333 217.6-42.666667-213.333333-170.666667-426.666667-469.333333-469.333333z","p-id":"3428",fill:"#ffffff"},null,-1)),D=[v],y=i(()=>u("div",{class:"map-chart",id:"mapEchart"},null,-1));function M(t,e,a,s,o,n){return r(),c("div",f,[g,(r(),c("svg",{style:{position:"absolute",left:"20px",top:"20px",cursor:"pointer","z-index":"20"},onClick:e[0]||(e[0]=(...l)=>n.backMap&&n.backMap(...l)),t:"1681180771137",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3427",width:"200",height:"200"},D)),y])}const w=m(_,[["render",M],["__scopeId","data-v-e4d03c6d"]]);export{w as default};
